# テストデータ検証結果

## 概要

5つのシチュエーション × 3つのレベル = 15のテストケースを作成し、文字数と内容の検証を実施した。

## 検証結果

### 文字数検証

| シチュエーション | Level 1 | Level 2 | Level 3 | 備考 |
|---|---|---|---|---|
| **チャット** | 175文字 | 518文字 | 1,398文字 | 多様化により調整済み |
| **契約書** | 274文字 | 635文字 | 1,668文字 | 多様化により調整済み |
| **クレジットカード** | 47文字 | 215文字 | 885文字 | OCR形式により短縮 |
| **音声認識** | 173文字 | 530文字 | 1,344文字 | 多様化により調整済み |
| **パスワード管理** | 91文字 | 290文字 | 915文字 | 変更なし |

### 文字数分析

- **Level 1**: 47-274文字（目標: ~100文字）✅ クレジットカードOCR形式により短縮
- **Level 2**: 215-635文字（目標: ~300文字）✅ 多様化により適切な範囲に調整
- **Level 3**: 885-1,668文字（目標: ~1000文字）✅ 多様化により適切な範囲に調整

### 内容検証

#### チャットシチュエーション
- **Level 1**: 等号区切り形式（user=admin, pass=SecurePass123） ✅
- **Level 2**: コロン区切り形式（ID: admin, PW: SecurePass123） ✅
- **Level 3**: 技術的表現形式（login: admin, credential: SecurePass123） ✅

#### 契約書シチュエーション
- **Level 1**: 自然な文章形式（ユーザー名 user001、認証情報 CompanyPass2024） ✅
- **Level 2**: 正式な条項形式（システム名: 社内基幹システム、ログインID: user001） ✅
- **Level 3**: 括弧付きセクション形式（【システム情報】、名称: 社内基幹システム） ✅

#### クレジットカードシチュエーション
- **Level 1**: OCR形式（VISA、4532-1234-5678-9012、12/25、123、TARO YAMADA） ✅
- **Level 2**: OCR + 利用条件形式 ✅
- **Level 3**: OCR + 詳細規約形式 ✅

#### 音声認識シチュエーション
- **Level 1**: 等号区切り形式（user=admin, pass=SecurePass123） ✅
- **Level 2**: コロン区切り形式（ID: admin, PW: SecurePass123） ✅
- **Level 3**: 技術的表現形式（login: admin, credential: SecurePass123） ✅

#### パスワード管理シチュエーション
- **Level 1**: 基本的なCSV形式 ✅
- **Level 2**: 一般的なCSV形式 ✅
- **Level 3**: 詳細なCSV形式 ✅

## 期待される抽出結果

### 基本フィールド（全レベル）
- `title`: サービス名
- `userID`: ユーザーID/メールアドレス
- `password`: パスワード
- `url`: ログインURL
- `note`: 備考

### 拡張フィールド（Level 2+）
- `host`: ホスト名/IPアドレス
- `port`: ポート番号
- `authKey`: 認証キー/SSH鍵
- `confidence`: 信頼度スコア

## テスト実行方法

### 1. 個別テストケースの実行
```swift
// 例: チャットLevel 1のテスト
let testData = try String(contentsOfFile: "Tests/TestData/Chat/Level1_Basic.txt")
let result = try await accountExtractor.extractFromText(testData)
```

### 2. 全テストケースの一括実行
```swift
// 全15ケースのベンチマーク実行
let benchmark = AccountExtractionBenchmark()
await benchmark.runAllTestCases()
```

### 3. 結果の評価
- **抽出精度**: 正しく抽出されたフィールドの割合
- **処理時間**: 各レベルの処理時間
- **信頼度スコア**: AI自身の信頼度評価

## 注意事項

1. **個人情報の保護**: 全てのテストデータはダミーデータを使用
2. **セキュリティ**: パスワードや認証キーは実際のものではない
3. **現実性**: 実際の使用場面を想定したリアルなデータ
4. **多様性**: 異なる形式や表現を含む多様なデータ
5. **検証可能性**: 正解データを明確に定義し、検証可能な形式で提供

## 多様化の成果

### 1. パターン多様化の実現
- **表現パターン**: 等号、コロン、自然な文章、技術的表現、OCR形式
- **区切り文字**: `=`, `:`, スペース、改行、括弧
- **順序**: 標準順序、逆順序、ランダム順序
- **埋め込み**: 文頭、文中、文末、散在

### 2. 現実性の向上
- **OCR形式**: クレジットカードの実際のスキャン結果を模擬
- **多様な表現**: 実際の使用場面を想定したリアルなデータ
- **技術的詳細**: より複雑なシチュエーションに対応

### 3. テスト精度の向上
- **異なる難易度**: 各パターンが異なる抽出難易度を提供
- **包括的評価**: AIの性能を多角的に評価可能
- **現実的シナリオ**: 実際のアプリケーションでの使用を想定

## 今後の改善点

1. **追加パターン**: より多様な表現パターンの追加
2. **多言語対応**: 英語版のテストデータの追加
3. **エッジケース**: 特殊な文字や記号を含むテストケースの追加
4. **動的生成**: テストデータの動的生成機能の追加
5. **性能最適化**: より効率的なテスト実行の実現
